---
title: '情報ネットワーク論 予習課題3'
author: 'IKEDA Kaito'
date: \the\year/\the\month/\the\day
---

HDLC 通信手順において，パケットの構成が F, A, C を 1オクテット，
FCS を 2オクテットであるとし，それ以外を情報部 I が占めるとする．
最大パケット長を1KB としたとき，以下の問に答えよ．
Ackパケットのサイズは，6オクテットとする．

## 伝送速度を 10Mbps とし，ハンドシェイク (Ackのやりとり) なしに1方向からパケットを送出し続けた場合，実効スループットは，いくらになるか．

1パケットあたりの情報部は最大$1KB$より，最大$1024 \cdot 8 bit$である．
また，情報部以外のデータは，F・A・C・FCSの6オクテット，つまり$6 \cdot 8 bit$である．
よって，実際に送ることができる情報部はパケット全体の
$$
\frac{1024 \cdot 8}{1024 \cdot 8 + 6 \cdot 8} = \frac{1024}{1024 + 6}
$$
のデータである．

よって，実行スループットは
$$
10 \cdot \frac{1024}{1024 + 6} = 9.941 \cdots \fallingdotseq 9.94 [Mbps]
$$
より，$9.94Mbps$である．


## 伝送速度を 10Mbps のまま，ウィンドウサイズ 3，回線遅延 1msとすると，実効スループットは，いくらになるか．

1パケットあたりの送出時間は，前問より1パケットのデータが$1024 \cdot 8 + 6 \cdot 8 bit$であり，
伝送速度が$10Mbps$であるため，以下の通りである．
$$
\frac{1024 \cdot 8 + 6 \cdot 8}{10 \cdot 1000 \cdot 1000} [s]
$$

同様にACKの送出時間は，ACKパケットのサイズが6オクテットより，以下の通りである．
$$
\frac{6 \cdot 8}{10 \cdot 1000 \cdot 1000} [s]
$$

また，1回の情報部の転送にかかる時間は，回線遅延が$1ms$より，先ほど求めた「1パケットの送出時間」と「ACK送出時間」の値を用いて以下のように表すことができる．
$$
2 \cdot 0.001 + (1パケットの送出時間) \cdot 3 + (ACK送出時間) [s]
$$

よって，実行スループットは，
$$
\frac{1024 \cdot 8}{2 \cdot 0.001 + (1 パケットの送出時間) \cdot 3 + (ACK 送出時間)} [bps]
$$
であり，これを計算すると$1.83Mbps$となる．


## ウィンドウサイズ 3，回線遅延 1ms とし，伝送速度を向上させた場合，実効スループットの上限は，いくらになるか．

実効スループットの上限を求めるために，伝送速度を最大にしたとする．
伝送速度を$t Mbps$としたとき，$t$を無限大に発散させる．

先ほどの式より，1パケットあたりの送出時間は，
$$
\lim_{t\to\infty} \frac{1024 \cdot 8 + 6 \cdot 8}{t \cdot 1000 \cdot 1000} = 0 [s]
$$
となり，同様にACKの送出時間も
$$
\lim_{t\to\infty} \frac{6 \cdot 8}{t \cdot 1000 \cdot 1000} = 0 [s]
$$
と考えることができる．

よって，実行スループットは先ほどの式より
$$
\frac{1024 \cdot 8}{2 \cdot 0.001 + 0 \cdot 3 + 0} [bps]
$$
となる．これを計算すると，実行スループットは$4.10Mbps$となる．